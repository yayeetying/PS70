<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="../styles.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <link href="../styles.css" rel="stylesheet">
        <title>Week 4</title>

    </head>
    <body>
        <div class="header darkBlued">
            <h1>PS70 <br> Week 4</h1>
        </div>

        <!-- Nav Bar -->
        <div>
          <ul class="navBar">
              <li class="barItem blueHover"><a href="../index.html">Home</a></li>
              <li id="menu" class="barItem blueHover">
                <a class="blued" href="#">Assignments</a>
                <ul id="dropdown">
                  <li> <a href="../index.html"> Week 1 </a></li>
                  <li> <a href="week2.html"> Week 2 </a></li>
                  <li> <a href="week3.html"> Week 3 </a></li>
                  <li> <a href="week4.html"> Week 4 </a></li>
                  <li> <a href="week5.html"> Week 5 </a></li>
                  <li> <a href="week6.html"> Week 6 </a></li>
                  <li> <a href="week7.html"> Week 7 </a></li>
                  <li> <a href="week8.html"> Week 8 </a></li>
                </ul>
              </li>
              <li class="barItem blueHover"><a href="../about.html">About</a></li>
              <!-- Colored box denotes active tab -->
              <li class="barItem blueHover"><a href="../proposal.html">Final Project Proposal</a></li>
          </ul>
        </div>

        <div class="container">
            <div class="section">
                <h3><b>Programming to the Kinetic Sculpture </b></h3>
                <hr> <!-- Adds horizontal line -->

                <p> 
                    For this week, I decided to add some programming to my 
                    conveyor belt mechanism. My idea was to have the conveyor belt
                    roll at different speeds, preferably from slow speed to 
                    high speed. <br> <br>

                    To do this, I had a function that took in the direction and speed 
                    the motor would spin in. Then, by including a for loop in my code,
                    I could effectively change the speed in which my motor was spinning. 
                    Here is my code. <br>
                    <pre>
                        <code>
                                        
    const int A1A = 3;  // define pin 3 for A-1A (PWM Speed)
    const int A1B = 4;  // define pin 4 for A-1B (direction)
    
    void setup() {
      pinMode(A1A, OUTPUT); // specify these pins as outputs
      pinMode(A1B, OUTPUT);
    }
    
    void loop() {
      for (int i = 0; i < 255; i++)
      {
        motorA(HIGH, i);  // turn motor CW 
      }
    }
    
    // This is a custom function to drive Motor A
    // inputs: direction (HIGH/LOW), speed (0-255)
    // outputs: motor control
    
    void motorA(byte d, int s) {
      if(d == HIGH){ // Counter-clockwise
        analogWrite(A1A, 255-s); 
        digitalWrite(A1B, HIGH); 
      } else if (d == LOW){ // Clockwise
        analogWrite(A1A, s); 
        digitalWrite(A1B, LOW);
      }
    }
                        </code>
                    </pre>
                </p>
                
                <p> Here's the end result! <br>
                    <video width="640" height="480" controls>
                        <source src="https://yayeetying.github.io/PS70/video/conveyorbelt2.mov" type="video/mp4">
                    </video>
                </p>
                <br>

                <p> And here's my schematic of my circuit. </p>
            </div>
        </div>

    <footer class="darkBlued">
        <p> &#169; Yaying Liang Li 2024<br>
            Email me <a href="mailto:yliangli@college.harvard.edu"> here! </a> </p>
    </footer>

    </body>
</html>